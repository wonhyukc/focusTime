https://docs.google.com/document/d/1qPx9641w5zK7t9XPQOdHSILhglLjJLXEoEZInQazBGY/edit?usp=sharing


# Pomodoro Timer Chrome Extension - 상세 기획서

## 1. 개요

### 1.1 목적
- 사용자의 생산성 향상을 위한 포모도로 타이머 크롬 확장 프로그램
- 다국어 지원을 통한 글로벌 사용자 확보
- 직관적인 UI/UX로 사용자 경험 최적화

### 1.2 주요 기능
- 포모도로 타이머 (집중/휴식 세션)
- 앰비언트 사운드
- 생산성 대시보드
- 다국어 지원
- 프로젝트 관리

## 2. 상세 기능 명세

### 2.1 포모도로 타이머

#### 2.1.1 세션 타입
- **집중 세션 (Focus)**
  - 기본 시간: 25분
  - 사용자 설정 가능
  - 진행 상태 표시
  - 남은 시간 카운트다운

- **짧은 휴식 (Short Break)**
  - 기본 시간: 5분
  - 사용자 설정 가능
  - 집중 세션 4회 완료 후 자동 전환

- **긴 휴식 (Long Break)**
  - 기본 시간: 15분
  - 사용자 설정 가능
  - 집중 세션 4회 완료 후 자동 전환

#### 2.1.2 타이머 컨트롤
- **시작/일시정지**
  - 세션 시작
  - 일시 정지 기능
  - 재개 기능

- **세션 관리**
  - 세션 초기화
  - 세션 건너뛰기
  - 세션 포기

- **진행 상태 표시**
  - 남은 시간 표시 (분:초)
  - 진행률 표시
  - 현재 세션 타입 표시

### 2.2 앰비언트 사운드

#### 2.2.1 사운드 옵션
- **집중용 사운드**
  - 자연음 (비, 바다, 숲)
  - 백색소음
  - 브라운노이즈

- **휴식용 사운드**
  - 부드러운 음악
  - 명상음악
  - 자연음

#### 2.2.2 사운드 컨트롤
- **볼륨 조절**
  - 0-100% 볼륨 조절
  - 음소거 기능

- **사운드 미리듣기**
  - 각 사운드 미리듣기 기능
  - 현재 재생 중인 사운드 표시

### 2.3 생산성 대시보드

#### 2.3.1 통계 데이터
- **일간 통계**
  - 일일 집중 시간 (분 단위)
  - 완료된 세션 수
  - 포기한 세션 수

- **주간 통계**
  - 주간 집중 시간 (분 단위)
  - 일별 집중 시간 비교
  - 세션 완료율

#### 2.3.2 시각화
- **차트**
  - 일간/주간 집중 시간 차트
  - 세션 완료율 차트
  - 프로젝트별 시간 분배 차트

- **데이터 필터링**
  - 날짜별 필터링
  - 프로젝트별 필터링

### 2.4 다국어 지원

#### 2.4.1 지원 언어
- 한국어 (한국어)
- 영어 (English)
- 중국어 (中文)
- 힌디어 (हिंदी)
- 스페인어 (Español)
- 프랑스어 (Français)
- 아랍어 (العربية)
- 벵골어 (বাংলা)
- 포르투갈어 (Português)
- 러시아어 (Русский)
- 우르두어 (اردو)

#### 2.4.2 번역 항목
- UI 텍스트
- 알림 메시지
- 도움말
- 설정 옵션
- 통계 레이블

### 2.5 프로젝트 관리

#### 2.5.1 프로젝트 입력
- **프로젝트 이름**
  - 자유 입력
  - 히스토리 기반 자동완성
  - 최근 사용 프로젝트 표시

#### 2.5.2 프로젝트 통계
- **프로젝트별 시간**
  - 프로젝트별 총 집중 시간
  - 프로젝트별 세션 수
  - 프로젝트별 완료율

## 3. 기술 스택

### 3.1 프론트엔드
- HTML5
- CSS3
- JavaScript (Vanilla)

### 3.2 브라우저 API
- Chrome Extension API
- Storage API
- Notifications API

### 3.3 데이터 저장
- Chrome Storage
- Local Storage

## 4. 사용자 인터페이스

### 4.1 팝업 인터페이스
- 타이머 표시
- 세션 컨트롤
- 사운드 컨트롤
- 프로젝트 입력

### 4.2 옵션 페이지
- 언어 설정
- 타이머 설정
- 사운드 설정
- 알림 설정

### 4.3 대시보드
- 통계 차트
- 데이터 필터
- 프로젝트 요약

## 5. 데이터 관리

### 5.1 저장 데이터
- 세션 기록
- 프로젝트 정보
- 사용자 설정
- 통계 데이터

### 5.2 데이터 백업
- 로컬 스토리지
- Chrome 스토리지 동기화

## 6. 성능 요구사항

### 6.1 응답성
- 타이머 정확도: ±1초
- UI 반응 시간: <100ms
- 데이터 로딩 시간: <500ms

### 6.2 리소스 사용
- 메모리 사용량: <50MB
- CPU 사용량: <5%
- 스토리지 사용량: <10MB

## 7. 보안 요구사항

### 7.1 데이터 보안
- 로컬 데이터 암호화
- 안전한 스토리지 접근
- 개인정보 보호

### 7.2 권한 관리
- 최소 권한 원칙
- 사용자 동의 기반 권한 요청
- 투명한 권한 사용

## 8. 유지보수 계획

### 8.1 업데이트
- 정기적인 버그 수정
- 새로운 기능 추가
- 성능 최적화

### 8.2 모니터링
- 사용자 피드백 수집
- 오류 로깅
- 성능 모니터링

## 9. 파일 및 폴더 구조

### 9.1 루트 디렉토리
```
/
├── manifest.json          # 확장 프로그램 설정
├── popup.html            # 메인 타이머 인터페이스
├── dashboard.html        # 통계 대시보드
├── offscreen.html        # 오프스크린 페이지
├── background.js         # 백그라운드 스크립트 (핵심 프로세스)
├── popup.js             # 팝업 스크립트 (핵심 프로세스)
├── offscreen.js         # 오프스크린 스크립트 (핵심 프로세스)
├── styles.css           # 공통 스타일
├── package.json         # 프로젝트 설정
├── scripts/             # 유틸리티 및 기능 모듈
│   ├── i18n.js          # 다국어 처리
│   ├── settings.js      # 설정 관리
│   ├── stats-display.js # 통계 표시
│   ├── dashboard-core.js # 대시보드 핵심 로직
│   ├── Chart.min.js     # 차트 라이브러리
│   └── email.min.js     # 이메일 라이브러리
├── styles/              # 스타일 파일들
├── sounds/              # 사운드 파일들
├── icons/               # 아이콘 파일들
└── i18n/                # 언어 파일들
    ├── ko.json          # 한국어
    ├── en.json          # 영어
    └── [기타 언어].json
```

### 9.2 파일 구조 설명

#### 9.2.1 루트 JS 파일들
- **background.js**: 크롬 확장프로그램의 백그라운드 프로세스
- **popup.js**: 팝업 UI의 기본 동작
- **offscreen.js**: 오프스크린 페이지 처리

#### 9.2.2 scripts/ 폴더
- **i18n.js**: 다국어 처리 유틸리티
- **settings.js**: 설정 관리 모듈
- **stats-display.js**: 통계 표시 관련 기능
- **dashboard-core.js**: 대시보드의 핵심 로직
- **Chart.min.js**: 차트 라이브러리
- **email.min.js**: 이메일 라이브러리

## 10. 상세 동작 방식

### 10.1 타이머 동작 방식

#### 10.1.1 타이머 프로세스
1. **초기화 단계**
   - manifest.json에서 기본 설정 로드
   - 사용자 설정 확인 및 적용
   - 이전 세션 상태 복원

2. **세션 실행 단계**
   - 타이머 시작 시 Date.now()로 시작 시간 기록
   - setInterval로 1초마다 업데이트
   - 남은 시간 = 설정 시간 - (현재 시간 - 시작 시간)
   - UI 업데이트 (시간 표시, 진행률)

3. **세션 전환 단계**
   - 세션 완료 감지
   - 알림음 재생
   - 다음 세션 타입 결정
   - 통계 데이터 저장
   - UI 업데이트

4. **일시정지 처리**
   - 타이머 정지 시 현재 상태 저장
   - 남은 시간 계산 및 저장
   - 재개 시 저장된 상태 복원

### 10.2 사운드 처리

#### 10.2.1 사운드 로딩
- **사운드 파일 구조**
  ```
  /sounds
  ├── focus/
  │   ├── rain.mp3
  │   ├── ocean.mp3
  │   └── forest.mp3
  └── break/
      ├── meditation.mp3
      ├── nature.mp3
      └── music.mp3
  ```

#### 10.2.2 사운드 재생 프로세스
1. **초기화**
   - AudioContext 생성
   - 사운드 파일 미리 로드
   - 볼륨 설정 적용

2. **재생 관리**
   - Web Audio API 사용
   - 볼륨 노드로 볼륨 제어
   - 이전 사운드 정지 후 새 사운드 재생
   - 루프 재생 설정

3. **사운드 전환**
   - 크로스페이드 효과 적용
   - 부드러운 전환 처리
   - 메모리 관리

### 10.3 팝업 프로세스

#### 10.3.1 팝업 생명주기
1. **열기**
   - manifest.json의 popup 설정 로드
   - 이전 상태 복원
   - 타이머 상태 동기화

2. **실행 중**
   - 백그라운드와 메시지 통신
   - 상태 업데이트
   - UI 반응성 유지

3. **닫기**
   - 현재 상태 저장
   - 리소스 정리
   - 백그라운드 프로세스에 상태 전달

### 10.4 통계 처리

#### 10.4.1 데이터 구조
```javascript
{
  sessions: [
    {
      startTime: timestamp,
      endTime: timestamp,
      duration: number,
      type: 'focus' | 'break',
      project: string,
      completed: boolean
    }
  ],
  dailyStats: {
    [date]: {
      totalFocusTime: number,  // 분 단위
      completedSessions: number,
      abandonedSessions: number
    }
  }
}
```

#### 10.4.2 통계 계산 방식

1. **집중 시간 합산**
   - 완료된 세션만 집계
   - 분 단위로 계산
   - 일간/주간 단위 계산

2. **차트 데이터 처리**
   - **일간 차트**
     - 24시간 기준
     - 시간대별 집중 시간
     - 세션 완료율

   - **주간 차트**
     - 7일 기준
     - 일별 집중 시간
     - 프로젝트별 분포

3. **데이터 필터링**
   - 날짜 범위 선택
   - 프로젝트 필터

4. **데이터 시각화**
   - Chart.js 사용
   - 반응형 차트
   - 인터랙티브 기능

#### 10.4.3 데이터 저장
1. **로컬 저장**
   - Chrome Storage API 사용
   - 세션별 데이터 저장
   - 통계 데이터 업데이트

2. **데이터 관리**
   - 세션 데이터 저장
   - 통계 데이터 계산
   - 저장 공간 관리
   - 데이터 무결성 검증 